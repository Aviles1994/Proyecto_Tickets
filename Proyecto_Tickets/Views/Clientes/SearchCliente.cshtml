@model List<Proyecto_Tickets.Models.TableViewsModels.SearchClienteTableViewModel>
@{
    ViewBag.Title = "BuscarCliente";
    Layout = "~/Views/Shared/_LayoutDiseño.cshtml";

    List<SelectListItem> items = (List<SelectListItem>)ViewBag.items;
}

<main>
    <form id="frm">
        <div class="div_formulario">
            <div class="div_borde">
                <table class="table">
                    <tr>
                        <td rowspan="3"> <label for="cliente"> Cliente </label></td>
                    
                        <td rowspan="3">
                            @Html.DropDownList("datos", items, "Selecciona Cliente", new { @class = "form-control" })
                        </td>
                     
                    </tr>
                </table>
                <table class="table">
                    <tr>
                        <td><button class="button" type="submit" name="button" value="BuscarCliente"> Buscar </button></td>
                    </tr>
                </table>
            </div>
            <table class="table_busqueda">
                <tr>
                    <th>Id</th>
                    <th>Nombre de Cliente</th>
                    <th>Calle</th>
                    <th>Numero</th>
                    <th>Colinia</th>
                    <th>Telefono</th>
                    <th>Correro Electrónico</th>
                    <th>Entidad Federativa</th>
                    <th>Acción</th>
                </tr>
                @foreach (var oElemento in Model)
                {
                    <tr>
                        <td>@oElemento.idCliente</td>
                        <td>@oElemento.NameCliente</td>
                        <td>@oElemento.Calle</td>
                        <td>@oElemento.numero</td>
                        <td>@oElemento.colonia</td>
                        <td>@oElemento.telefono</td>
                        <td>@oElemento.correo_electronico</td>
                        <td>@oElemento.etidad_feerativa</td>
                        <td>
                            <button class="btn_Acción" type="submit" name="button"> <img src="../Imagenes/add_user.png" alt=""></button>
                            <button class="btn_Acción" type="submit" name="button"> <img src="../Imagenes/update_user.png" alt=""></button>
                            <button class="btn_Acción" type="submit" name="button"> <img src="../Imagenes/contacts.png" alt=""> </button>
                        </td>
                    </tr>
                }

            </table>
        </div>
    </form>
</main>

@section scripts
{
    <script>
    $(document).ready(function ()
    {
        $("#frm").submit(function (e)
        {
            e.preventDefault();

            url = "@Url.Content("~/Clientes/BuscarCliente")"
            parametros = $(this).serialize();

            $.post(url, parametros, function (data) {

                if (data == "1") {
                    document.location.href = "@Url.Content("~/Clientes/BuscarCliente")"
                } else
                {
                    alert(data)
                }

            })
        })
    })

    </script>
}

